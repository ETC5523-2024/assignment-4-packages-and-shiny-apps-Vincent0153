---
title: "NCAA: March Madness Data"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{NCAA: March Madness Data}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  warning = FALSE,
  message = FALSE,
  comment = "#>"
)
```

This dataset contains 512 observations and 7 variables, including present and historical performances of each NCAA college basketball teams from 2016 to 2024. You are able to see the public picks of 2024 season only.

```{r setup}
library(marchmadness)
library(ggplot2)
library(tidyverse)
library(plotly)
```

The data can be accessed by loading the marchmadness and calling on the object march_madness_dataset, or alternatively using the code marchmadness::march_madness_dataset. You can have a look at the dataset using the following code.

```{r}
data("march_madness_dataset")
head(march_madness_dataset,5)
```

Some of the plots are shown through the shiny app. You can use the code in README to launch the app. Here, I would like to show you some other plots that can be created using "marchmadness" package and the dataset.

We can draw an interactive bubble plot through "plotly" package and the dataset inside "marchmadness" package, showing the relationship between seed, power and public predictions on finals. When you hover on each bubble, it will give you some detail performance of the particular team.

```{r}
data_2024 <- march_madness_dataset |>
  filter(YEAR == "2024")

p <- ggplot(data_2024, aes(
  x = SEED,
  y = POWER,
  size = FINALS,
  color = SEED,
  text = paste("Team: ", TEAM, "<br>Seed: ", SEED, "<br>Power: ", POWER, "<br>Finals: ", FINALS)
)) +
  geom_point(alpha = 0.6) +
  scale_size(range = c(1, 10), name = "Finals") +
  scale_color_gradient(low = "blue", high = "red") +
  theme_minimal() +
  labs(
    title = "Bubble Chart: Seed vs Power with Finals Predictions",
    x = "Seed",
    y = "Power"
  )

ggplotly(p, tooltip = "text")
```

Alternatively, we can use a heatmap to show the relationship between SEED and FINALS for each team.

```{r}
ggplot(data_2024, aes(x = SEED, y = TEAM, fill = POWER)) +
  geom_tile() +
  scale_fill_gradient(low = "lightblue", high = "red", name = "Power") +
  labs(
    title = "Heatmap: Seed vs Team with Power",
    x = "Seed",
    y = "Team"
  ) +
  theme_minimal() +
  theme(axis.text.x = element_text(angle = 90, hjust = 1))
```

There are many things you can do through this package. So, hope you enjoy this package, it is good for a beginner to analyze the data by themselves because it is not a big dataset. Explore the dataset, use it as a practice and try to learn something from it, and you will be on your way to become a data analyst, cheers!
